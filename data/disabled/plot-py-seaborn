#!/usr/bin/env python3

import sys
import os
from pathlib import Path
import logging
import argparse
from io import StringIO

import numpy as np
import pandas as pd
import seaborn as sns

def main():
    logging.basicConfig(level=logging.DEBUG)

    tidy_dir = Path(os.getenv("TIDY_DIR", default=".tidy"))

    parser = argparse.ArgumentParser(description="Plot evaluation data.")
    parser.add_argument("-d", "--data")
    parser.add_argument("-i", "--tidy-path", default=tidy_dir.joinpath("scratch.tsv.gz"))
    parser.add_argument("-p", "--plot-path")
    args = parser.parse_args()

    tidy_path = Path(args.tidy_path if args.data is None else tidy_dir.joinpath(args.data + ".tsv.gz"))
    tidy_df = pd.read_csv(tidy_path, sep="\t")
    plot(tidy_df, Path(args.plot_path))

def plot(tidy_df, plot_path):
    print(tidy_df)
    # TODO: Add a function to generate plot names
    # sns.relplot(data=tidy_df).savefig(plot_path.joinpath("0001-total.pdf"))
    pass

if __name__ == "__main__":
    main()
